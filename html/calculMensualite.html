<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="../css/calcul.css">
    <title>Calculez votre mensualité</title>
</head>

<main>

    <body>
        <header>
            <!-- =================================NAV STARTS HERE===================================== -->
            <nav>
                <div id="logo">
                    <img src="../assets/logos/loanelyLogoSlogan.png" alt="logo">
                </div>

                <div id="menu">

                    <ul>
                        <li><a href="../index.html"> <img src="../assets/icons/contact/accueil.png" alt=""> ACCUEIL</a></li>
                        <li><a href="#"> <img src="../assets/icons/accueil/connexion.png" alt=""> CONNEXION</a></li>
                        <li><a href="/html/inscription.html"> <img src="../assets/icons/accueil/inscription.png" alt=""> INSCRIPTION</a></li>
                    </ul>

                </div>
            </nav>

        </header>
        <section>

            <article id='photo'>
                <img id='calculate' src='../assets/images/calcul/calculatrice.png'>
            </article>

            <article id='calcule'>
                <h3>Calculez votre mensualité</h3>
                <div class='containerCalcul'>
                    <div id='containerForm'>
                        <form>
                            <div>
                                <label for='montant'>Montant du prêt*</label><br>
                                <div class='containQuest'>
                                    <input name='montant' value='' type='text' id='montant' step='500' pattern="[0-9]{10}" placeholder='100000'/>
                                    <div class='indic'>€</div>
                                </div>
                            </div>
                            <div>
                                <label for='duree'>Durée du prêt *</label><br>
                                <div class='containQuest'>
                                    <input name='duree' value='' type='text' id='duree' placeholder="10"/>
                                    <div class='indic anneePos'>an(s)</div>
                                </div>
                            </div>
                            <div>
                                <label for='taux'>Taux*</label><br>
                                <div class='containQuest'>
                                    <input name='taux' type='text' step='0.05' value='' id='taux' placeholder="1,25" />
                                    <div class='indic'>%</div>
                                </div>
                            </div>
                            
                                <button id='calculer'>Calculer</button>
                            
                        </form>
                    </div>

                    <div id='containerResult'>

                        <div id='result'>
                            <h4>Votre mensualité est à partir de : </h4>
                            <div id="flex">
                                <span id='result2'></span>
                            </div>
                            <p>* Cette simulation est communiquée à titre informatif, elle est établie sur la base de
                                taux du marché actuelle . Cette présentation indicative ne constitue en aucun cas une
                                offre commerciale de financement et n’a aucune valeur contractuelle.</p>
                        </div>
                    </div>
                </div>
            </article>

        </section>
        <footer>

            <div id="logo">
                <img src="../assets/logos/logo bas.png" alt="">
            </div>

            <div class="liens-footer">

                <div>
                    <a href="#">Qui Somme Nous?</a>
                    <a href="#">Espace Banque</a>
                    <a href="#">Espace Client</a>
                </div>

                <div>
                    <a href="#">Politique de confidentialité</a>
                    <a href="#">Recrutement</a>
                    <a href="#">Contactez-Nous</a>
                </div>

                <div>
                    <a href="#">Plan de Site</a>
                    <a href="#">CGV</a>
                    <a href="#">Mentions Legales</a>
                </div>

            </div>

        </footer>
        <script>
            console.log(document.querySelectorAll('.indic p :nth-child(2)'))
            let calculer = document.getElementById("calculer")
            calculer.addEventListener("click", function (e) {
                e.preventDefault()
                let montant = parseInt(document.getElementById('montant').value);
                let duree = parseInt(document.getElementById('duree').value);
                let taux = parseInt(document.getElementById('taux').value);
                let result = (montant + (montant * (taux / 100))) / duree / 12;
                let afficheResult = document.getElementById('result2');
                afficheResult.textContent = result.toFixed(2) + '€';
            })          
        </script>
    </body>
</main>

</html>